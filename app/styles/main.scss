$icon-font-path: "/bower_components/bootstrap-sass/vendor/assets/fonts/bootstrap/";


$grid-float-breakpoint: 300px;

//@import "../bower_components/bootstrap-sass/vendor/assets/stylesheets/bootstrap.scss";

// Core variables and mixins
@import "bootstrap/variables";
@import "bootstrap/mixins";

// Reset
@import "bootstrap/normalize";
@import "bootstrap/print";

// Core CSS
@import "bootstrap/scaffolding";
@import "bootstrap/type";
//@import "bootstrap/code";
@import "bootstrap/grid";
//@import "bootstrap/tables";
//@import "bootstrap/forms";
//@import "bootstrap/buttons";

// Components
//@import "bootstrap/component-animations";
//@import "bootstrap/glyphicons";
//@import "bootstrap/dropdowns";
//@import "bootstrap/button-groups";
//@import "bootstrap/input-groups";
@import "bootstrap/navs";
@import "bootstrap/navbar";
//@import "bootstrap/breadcrumbs";
//@import "bootstrap/pagination";
//@import "bootstrap/pager";
//@import "bootstrap/labels";
//@import "bootstrap/badges";
//@import "bootstrap/jumbotron";
//@import "bootstrap/thumbnails";
//@import "bootstrap/alerts";
//@import "bootstrap/progress-bars";
//@import "bootstrap/media";
//@import "bootstrap/list-group";
//@import "bootstrap/panels";
//@import "bootstrap/wells";
//@import "bootstrap/close";
//
//// Components w/ JavaScript
//@import "bootstrap/modals";
//@import "bootstrap/tooltip";
//@import "bootstrap/popovers";
//@import "bootstrap/carousel";

// Utility classes
@import "bootstrap/utilities";
@import "bootstrap/responsive-utilities";

@import 'solarized/scss/solarized';

$mapBg: lighten(desaturate($solarized-green, 90%), 65%);


@import 'bourbon';
@import 'cards';
@import 'flex';

$fontello-dir: "../fontello/font";
@import 'fontello';


html, body {
  color: darken($mapBg,60%);
  background-color:$mapBg;
}

body {
  padding-bottom:4rem;
}



img.fluid {
  width:100%;
}

a {
  color: $solarized-blue;
  &:hover {
    text-decoration:none;
  }
}

p, li, dt, dd {
  font-size:16px; 
}

%label {
  text-transform:uppercase;
  font-size:11px;
  font-weight:bold;
  cursor:pointer;
}
label, .label {
  @extend %label;
  line-height:16px;
}





.hide {
  display:none !important;
}

.slideIn {
  opacity:0.01;
}

.slideIn-in {
  opacity:1;
  @include transition (opacity 0.1s ease-out);
}


.navbar {
  border:none;
  border-radius:0;
  border-bottom:1px solid #ccc;
  margin-bottom:0;
  background-color:#fff;
}

.navbar-nav > li > a {
  color:darken($mapBg, 40%);
  &:hover {
    color:darken($mapBg, 60%);
    background:white;
    text-decoration:underline;
  }
}

.navbar-nav > li.active > a {
  color:darken($mapBg, 60%);
}

.navbar-brand {
  padding:0;
  .twi, .strug {
    display:inline-block;
    padding:15px;
  }
  .twi {
    padding-right:0;
    @extend .owner-us;
  }
  .strug {
    padding-left:0;
    @extend .owner-ussr;
  }

  &:hover {
    .twi { color: darken($solarized-blue, 10%); }
    .strug { color: darken($solarized-red, 10%); }
  }
  
}

.page-header {
  margin-top:2rem;
  position:relative;
  border-bottom:1px solid darken($mapBg,20%);
}

.imgRight {
  display:block;
  border:1px solid #ccc;
  margin:2rem auto;
  max-width:100%;
}

#placeholder {
  display:table;
  height:100%;
  width:100%;
  position:absolute;
  top:0;
  background:rgba(#000,0.2);
  p {
    display:table-cell;
    vertical-align:middle;
    font-size:6rem;
    text-align:center;
    font-weight:bold;
    line-height:1;
    color:darken($mapBg, 30%);
    text-shadow: 0px 1px 1px #fff, 0px -1px 1px #666;
  }
}

@media screen and (min-width:$screen-sm-min) {
  .imgRight {
    float:right;
    margin:0 0 1rem 1rem;
  }
}

.browsehappy {
    margin: 0.2em 0;
    background: #ccc;
    color: #000;
    padding: 0.2em 0;
}


a[href^="http://"],
a[href^="https://"] {
  display:inline-block;
  &:after {
    content:"\e801";
    font-family:'fontello';
    font-size:0.6em;
    display:inline-block;
    position:relative;
    margin:0 0.2em 0 0.4em;
    line-height:0.5em;
  }
}


#blurb {
  color:rgba(#fff,0.8);
  border-top:1px solid rgba(#000,0.2);
  border-bottom:1px solid rgba(#000,0.2);
  a {
    color:rgba(#fff,0.8);
    font-weight:500;
    &:hover {
      text-decoration:underline;
    }
  }
}

.blurb {
  text-align:center;
  margin:3rem 1rem;
}

a.home-link {
  padding: 2rem;
  display:block;
  text-align: center;
  color:darken($mapBg, 50%);
  img {
    margin-bottom:1rem;
  }
  h3 {
    margin-top:0;
  }
  &:hover {
    color:white;
    background:$solarized-blue;
  }

  &.home-link-cards:hover {
    background:$solarized-red;
  }
}

[class^="node-"], [class*=" node-"] {
}
.link {stroke: #999; stroke-opacity:0.6;}



$weu: lighten($westernEurope, 18%);
$eeu: lighten($easternEurope, 7%);
$me: lighten($middleEast, 10%);
$as: lighten($asia, 2%);
$sea: lighten($asia, 17%);
$sa: lighten($southAmerica, 14%);
$ca: #E2ECB9;
$af: #F5E696;

$weuDark: desaturate(darken($weu, 30%), 10%);
$eeuDark: desaturate(darken($eeu, 30%), 10%);
$meDark: desaturate(darken($me,50%), 20%);
$asDark: desaturate(darken($as,30%), 10%);
$afDark: desaturate(darken($af,50%), 20%);
$caDark: desaturate(darken($ca,50%), 20%);
$saDark: desaturate(darken($sa,30%), 10%);


%noSelect {
  -webkit-touch-callout: none;
  -webkit-user-select: none;
  -khtml-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
}


.Board {

  //background:url(/images/tsboard.jpg) no-repeat;
  //border:1px solid #b9bdb7;
  background: $mapBg;
  position:relative;
  width:1140px;
  height:730px;
  margin-bottom:3rem;
  margin-top:1rem;
  
  text {
    @extend %noSelect;
    cursor: default;
  }


  .node-eeu .node-bg { fill: $eeu; }
  .node-weu .node-bg, .node-eu .node-bg { fill: $weu; }
  .node-bg-eu { fill: $eeu; }

  .node-weu .node-btl, .node-eeu .node-btl {
    .node-title-bg {
      fill: $weuDark;
    }
  }

  .node-me .node-bg { fill:$me; }
  .node-me.node-btl .node-title-bg { fill: $meDark; }

  .node-as .node-bg, .node-sea .node-bg { fill:$as; }
  .node-bg-sea { fill: $sea; }
  .node-as.node-btl, .node-sea.node-btl {
    .node-title-bg { fill: $asDark; }
  }

  .node-af .node-bg { fill:$af; }
  .node-af.node-btl .node-title-bg { fill: $afDark; }

  .node-ca .node-bg { fill:$ca; }
  .node-ca.node-btl .node-title-bg { fill: $caDark; }

  .node-sa .node-bg { fill:$sa; }
  .node-sa.node-btl .node-title-bg { fill: $saDark; }

  .node {
    stroke-width:0;
  }

  .node-title-bg {
    stroke-width:0;
    fill:rgba(#fff,0.6);
  }
  .node-title-text, .node-stab {
    stroke:rgba(#000, 0.8);
    stroke-width:0.5;
    fill: rgba(#000,0.8);
  }
  .node-stab {
    font-weight:bold;
    stroke-width:0;
  }
  .node-title-text {
    font-size:11px;
  }

  .node-bg {
    stroke: rgba(#000,1);
    stroke-width:0.2px;
  }

  .node-bg-hidden {
    display:none;
  }

  .node-line {
    stroke: rgba(#000, 0.4);
    stroke-width:0.3px;
  }

  .node-btl {
    .node-title-text, .node-stab {
      stroke:rgba(#fff, 0.8);
      stroke-width:0;
      fill: rgba(#fff,0.8);
      //text-anchor:middle;
    }

    .node-title-bg {
      //fill:rgba(#000, 0.5);
    }

    
    &.node-weu, &.node-eeu {
      .node-title-bg {
        fill: darken($westernEurope, 17%);
      }
    }
  
  }

  .node-usa {
    .node-bg { fill:$mapBg; stroke: $solarized-blue; stroke-width:1px }
    .node-title-text { fill:$solarized-blue }
  }
  .node-ussr .node-bg { fill:$mapBg; stroke: $solarized-red; stroke-width:1px }

  .node-usa, .node-ussr {
    .node-stab {
      font-size:12px;
      text-anchor: middle;
      font-weight:normal;
      opacity:0.7;
    }
    .node-title-text {
      text-anchor: middle;
      font-size:18px;
      stroke-width:0;
    }
    .node-text {
      text-anchor: middle;
      font-weight:bold;
      font-weight:normal;
      word-spacing: 4px;
      opacity:0.7;
    }
    .node-line, .node-title-bg {
      display:none;
    }
    .numBtl {
      font-weight:bold;
    }
  }

  .node-usa {
    .node-title-text, .node-text, .node-stab {
      fill:$solarized-blue;
      stroke: $solarized-blue;
    }
  }

  .node-ussr {
    .node-title-text, .node-text, .node-stab {
      fill:$solarized-red;
      stroke: $solarized-red;
    }
  }

  .node-region-info {
    .node-bg {
      fill:rgba(#000,0);
      stroke:rgba(#000,0.1);
      stroke-width:0;
    }
    .node-stab {
      display:none;
    }
    .node-title-bg {
      fill:rgba(#000,0);
    }
    .node-title-text {
      fill: darken($mapBg, 65%);
      stroke-width:0;
      font-weight:bold;
      text-anchor:middle;
    }
    .node-line {
      display:none;
    }
    .node-text {
      fill: darken($mapBg, 50%);
      .usa {
        fill:$solarized-blue; 
        font-weight:bold;
      }
      .ussr {
        fill:$solarized-red; 
        font-weight:bold;
      }
      .both {
        fill:mix($solarized-blue, $solarized-red);
        font-weight:bold;
      }
      text-anchor: middle;
      tspan {
      }
      tspan.blank {
        letter-spacing: 4px;
      }
    }

    text {}
    //&.node-eu text { fill:$weuDark; }
    //&.node-as text { fill:$asDark; }
    //&.node-me text { fill:$meDark; }
    //&.node-ca text { fill:$caDark; }
    //&.node-sa text { fill:$saDark; }
    //&.node-af text { fill:$afDark; }

    //&.node-eu .node-bg { fill:lighten($weu, 20%); }
    //&.node-as .node-bg { fill:lighten($as, 20%); }
    //&.node-me .node-bg { fill:lighten($me, 15%); }
    //&.node-ca .node-bg { fill:lighten($ca, 10%); }
    //&.node-sa .node-bg { fill:lighten($sa, 25%); }
    //&.node-af .node-bg { fill:lighten($af, 15%); }
  }

  .node-ip-usa, .node-ip-ussr {
    text {
      text-anchor: middle;
      stroke-width:0;
      font-size:20px;
      font-weight:bold;
    }
  }
  .node-ip-usa { fill: rgba($solarized-blue, 0.9); }
  .node-ip-ussr { fill: rgba($solarized-red, 0.9); }

  .node-ip-bg-usa, .node-ip-bg-ussr {
    fill:#fff;
    stroke:rgba(#000,0.2);
    stroke-width:1px;
  }

  .node-usa-control {
    .node-ip-bg-usa { fill:$solarized-blue; }
    .node-ip-usa { fill:rgba(#fff,0.9); }
  }

  .node-ussr-control {
    .node-ip-bg-ussr { fill:$solarized-red; }
    .node-ip-ussr { fill:rgba(#fff,0.9); }
  }

  .node-ip-click {
    fill:rgba(0,0,0,0);
    cursor: pointer;
    &:hover {
      fill:rgba(#000, 0.4);
    }
  }

  .node-usa, .node-ussr, .node-region-info {
    .node-ip-click {
      display:none;
    }
  }

  .link {
    stroke:rgba(#000,0.4);
    stroke-width:6px;
  }

  .link-cross {
    stroke-dasharray: 6 3;
  }

  %link-superpower {
  }

  .link-usa, .link-ussr {
    @extend %link-superpower;
  }

  .link-usa {
    stroke:$solarized-blue;
    stroke-dasharray: 6 3;
  }

  .link-ussr {
    stroke:$solarized-red;
    stroke-dasharray: 6 3;
  }

}

%StatusLabelShortcut {
    font-weight:bold;
    color: darken($solarized-red,6%);
}

.BoardStatus {
  width: 240px;
  height: 214px;
  position:absolute;
  right:50px;
  bottom:0;

  .col {
    float:left;
    width:50%;
    margin-bottom:0.4rem;
  }

  .StatusLabel {
    @extend %noSelect;
    cursor:default;
    width:40%;
    float:left;
    clear:both;
    font-size:12px;
    padding-top:5px;
    text-align: right;
    color:darken($mapBg,50%); 
    @extend %label;
  }

  .StatusLabel-shortcut {
    @extend %StatusLabelShortcut;
  }

  .StatusValue {
    @extend %noSelect;
    width:60%;
    display:inline-block;
    text-align:left;
    font-size:18px;
    font-weight:bold;
    line-height:1.4;

    .divider {
      opacity:0.5;
    }
  }

  .prop-usa, .prop-ussr {
    @extend %noSelect;
    cursor:default;
  }

  .StatusValue.usa .val {
    color: $solarized-blue;
  }

  .StatusValue.ussr .val {
    color: $solarized-red;
  }

  .val {
    @extend %noSelect;
    cursor:default;
    display:inline-block;
    width:20px;
    text-align:center;
    &.usa { color: $solarized-blue; }
    &.ussr { color: $solarized-red; }
  }

  .dec, .inc {
    @extend %noSelect;
    display:inline-block;
    font-family: 'Comic Sans MS';
    color:darken($mapBg, 14%);
    font-size:15px;
    padding:2px 4px;
    cursor:pointer;
    text-align:center;

    &:hover {
      color: darken($mapBg, 50%);
    }
  }


  .historyControls {
    margin-bottom:0.2rem;
  }
  .historyControls-undo,
  .historyControls-redo,
  .historyControls-history {
    display:inline-block;
    a {
      @extend %noSelect;
      cursor:pointer;
      padding:0.8rem 0;
      display:block;
      text-align:center;
      font-size:12px;
      text-transform:uppercase;
      font-weight:bold;
    }
  }
  .historyControls-undo, .historyControls-redo {
    width:25%;
  }

  .historyControls-history {
    width:50%;
  }

  .die {
    @extend %noSelect;
    width:42px;
    height:42px;
    margin:0 auto 0;
    display:inline-block;
    border-radius: 6px;
    text-align:center;
    color: white;
    font-size:26px;
    padding-top:2px;
    vertical-align: middle;
    cursor:pointer;
    &.rolling {
      color:rgba(#fff,0.7);
    }

    @include transition (all 0.2s ease-out);
  }

  .die-usa { background: $solarized-blue; }
  .die-usa.rolling { background: darken($solarized-blue, 20%); }
  .die-ussr { background: $solarized-red; }
  .die-ussr.rolling { background: darken($solarized-red, 20%); }


  .dice {
    clear:both;
    text-align: center;
  }

  .roll-dice {
    @extend %noSelect;
    vertical-align: middle;
    display:inline-block;
    font-size:12px;
    font-weight:bold;
    width:70px;
    text-align: center;
    line-height:1;
    text-transform: uppercase;
    padding:6px;
    margin:0 4px;
    cursor:pointer;
  }
}


.BoardPage-shortcuts {
  margin-bottom:0;
  padding:0;
  dt {
    float:left;
    width:3.6rem;
    margin-right:1rem;
    text-align:right;
    @extend %StatusLabelShortcut;
  }

  dd {
    margin-bottom:0.5rem;
  }

}


.map-position-debug {
  display:none;
}


.StateHistory {
  position:fixed;
  z-index:10;
  width:300px;
  overflow-y:auto;
  left:-300px;
  background:$mapBg;
  top:0;
  height:100%;
  border-right:1px solid darken($mapBg, 20%);
  box-shadow:0 0 23px 3px rgba(#000,0.2);
  @include transition (left 0.1s ease-out);
  &.in {
    left:0;
  }

  .usa { color: $solarized-blue; }
  .ussr { color: $solarized-red; }

  h3 {
    padding-left:1rem;
    padding-top:0;
    margin-top:1rem;
  }
  ul {
    overflow-y:auto;
    padding:5px 0 8px 0;
  }
  li {
    color: #666;
    font-size:14px;
    padding:3px 0 2px 25px;
    cursor:pointer;
    &:hover {
      background:darken($mapBg,10%); 
    }
    &.StateHistory-current {
      &, &:hover {
        box-shadow:0 1px 7px 0px rgba(#000,0.2);
        background:white;
      }
    }
  }

  .close {
    @extend %label;
    margin-top:1.4rem;
    padding:0.6rem 1.4rem;
    
    .StatusLabel-shortcut {
      @extend %StatusLabelShortcut;
    }
  }

  .arrow {
    opacity:0.4;
  }

  .strong {
    font-weight:bold;
  }

  .turnRound {
    float:right;
    font-weight:bold;
    font-size:0.8em;
    display:block;
    margin:1px 15px 0 10px;
  }

  .control {
    font-weight:bold;
  }

  .ip {
    font-weight:bold;
    line-height:1;
  }
}





.footer {
  text-align:center;
  width: 100%;
  margin-top:20px;
  color: darken($mapBg, 50%);
  p {
    font-size:12px;
    margin:0;
  }

  a[href^="http://"],
  a[href^="https://"] {
    &:after {
      display:none;
    } 
  }
}

/* Responsive: Portrait tablets and up */
@media screen and (min-width: 768px) {
    html {
      position: relative;
      min-height: 100%;
    }
    body {
      /* Margin bottom by footer height */
      margin-bottom: 50px;
    }

    .footer {
      position: absolute;
      text-align:center;
      bottom: 0;
      margin-top:0;
      height:50px;
    }

    .container {
        max-width: 1140px;
    }

    /* Remove the padding we set earlier */
    .header,
    .marketing,
    .footer {
        padding-left: 0;
        padding-right: 0;
    }

    /* Space out the masthead */
    .header {
        margin-bottom: 30px;
    }

    /* Remove the bottom border on the jumbotron for visual effect */
    .jumbotron {
        border-bottom: 0;
    }

    #placeholder p {
      font-size:10rem;
    }
}
